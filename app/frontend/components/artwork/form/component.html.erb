<div class="bg-gray-800 rounded-lg p-6 mb-8">
  <h2 class="text-xl font-bold text-gray-100 mb-4">アートワーク</h2>

  <% if has_image? %>
    <div class="mb-4">
      <p class="text-gray-400 text-sm mb-2">現在のアートワーク</p>
      <div class="relative inline-block">
        <img src="<%= image_url %>" alt="Artwork" class="max-w-xs rounded-lg shadow-lg">
        <%= form_with url: content_artwork_path(content, artwork), method: :delete, local: false, class: "absolute top-2 right-2" do |f| %>
          <%= f.button type: "submit", 
                      title: "削除",
                      data: { 
                        turbo_method: :delete,
                        controller: "delete-confirmation",
                        action: "click->delete-confirmation#confirm",
                        delete_confirmation_message_value: "アートワークを削除しますか？"
                      },
                      class: delete_button_class do %>
            <%= render Icon::Component.new(name: :delete, size: :sm, aria_label: "削除") %>
          <% end %>
        <% end %>
      </div>
    </div>
  <% end %>

  <%= form_with model: [content, artwork], 
                url: form_url, 
                method: form_method,
                local: false, 
                multipart: true,
                class: "space-y-4" do |f| %>
    
    <div>
      <%= f.label :image, "画像ファイル", class: "block text-gray-300 text-sm font-medium mb-2" %>
      <%= f.file_field :image, 
                       accept: "image/jpeg,image/png,image/gif",
                       class: "block w-full text-sm text-gray-300 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500",
                       data: {
                         controller: "file-preview",
                         action: "change->file-preview#preview"
                       } %>
      <p class="text-gray-400 text-xs mt-1">
        JPEG、PNG、GIF形式に対応。最大10MBまで。
      </p>
    </div>

    <div data-file-preview-target="previewContainer" class="hidden">
      <p class="text-gray-400 text-sm mb-2">プレビュー</p>
      <img data-file-preview-target="preview" src="" alt="Preview" class="max-w-xs rounded-lg shadow-lg">
    </div>

    <div class="flex gap-4">
      <%= f.submit submit_button_text, class: upload_button_class %>
    </div>
  <% end %>
</div>