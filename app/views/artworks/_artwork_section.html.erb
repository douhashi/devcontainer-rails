<div id="artwork-section-<%= content.id %>">
  <% if content.artwork.present? %>
    <!-- アートワークが存在する場合 -->
    <div class="artwork-management-container">
      <!-- グリッドレイアウト -->
      <%= render ArtworkVariations::GridComponent.new(artwork: content.artwork) %>

      <!-- プレビューボタン（YouTube適格な場合のみ表示） -->
      <% if content.artwork.youtube_thumbnail_eligible? %>
        <div class="mt-4" data-controller="thumbnail-preview" data-thumbnail-preview-content-id-value="<%= content.id %>">
          <button
            data-thumbnail-preview-target="toggleButton"
            data-action="click->thumbnail-preview#togglePreview"
            class="inline-flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
          >
            プレビューを表示
          </button>

          <!-- ローディングスピナー -->
          <div data-thumbnail-preview-target="loadingSpinner" class="hidden inline-flex items-center ml-2">
            <svg class="animate-spin h-5 w-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span class="ml-2">読み込み中...</span>
          </div>

          <!-- エラーメッセージ -->
          <div data-thumbnail-preview-target="errorMessage" class="hidden mt-2 p-2 bg-red-100 text-red-700 rounded"></div>

          <!-- 画像表示エリア -->
          <div class="mt-4">
            <img data-thumbnail-preview-target="originalImage" src="<%= content.artwork.image_url %>" class="max-w-full rounded-lg shadow-md" alt="オリジナル画像">
            <img data-thumbnail-preview-target="thumbnailImage" class="hidden max-w-full rounded-lg shadow-md" alt="プレビュー画像">
          </div>
        </div>
      <% end %>

      <!-- 削除ボタン（グリッドの兄弟要素） -->
      <div class="mt-4 flex justify-end">
        <%= button_to content_artwork_path(content, content.artwork),
                      method: :delete,
                      data: {
                        turbo_method: :delete,
                        turbo_confirm: "アートワークを削除しますか？"
                      },
                      'aria-label': 'アートワークを削除',
                      class: "inline-flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors" do %>
          <%= render Icon::Component.new(name: "delete") %>
          <span class="ml-2">アートワークを削除</span>
        <% end %>
      </div>
    </div>
  <% else %>
    <!-- アートワークが存在しない場合 -->
    <turbo-frame id="artwork-section-<%= content.id %>">
      <%= render ArtworkDragDrop::Component.new(content_record: content) %>
    </turbo-frame>
  <% end %>
</div>