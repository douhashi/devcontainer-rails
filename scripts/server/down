#!/bin/bash

# Docker Compose Productionç’°å¢ƒã‚’åœæ­¢ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

set -e

# ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å–å¾—
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "${SCRIPT_DIR}/../.." && pwd)"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•
cd "${PROJECT_ROOT}"

echo "ğŸ›‘ Stopping Lofi BGM Production server..."

# Docker Composeã‚’åœæ­¢
docker compose -f docker-compose.production.yml down

echo ""
echo "âœ… Server stopped successfully!"
echo ""
echo "ğŸ’¡ To remove volumes (database, uploads, etc.):"
echo "  docker compose -f docker-compose.production.yml down -v"
echo ""
echo "ğŸš€ To start the server again:"
echo "  script/server/up"